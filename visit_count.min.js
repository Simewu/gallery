async function fetchAndUpdateCounter(t){try{const e=await fetch(`https://simewustats.simewu.repl.co/${t}.json`);let o=await e.json();document.getElementById("counter").textContent=o.total,document.getElementById("modalPageName").textContent=t.charAt(0).toUpperCase()+t.slice(1),google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback((()=>drawChart(o.total,o.daily,t)))}catch(t){console.error("Error fetching counter:",t),document.getElementById("counter").style.display="none"}}function drawChart(t,e,o){var a=new google.visualization.DataTable;a.addColumn("string","Day"),a.addColumn("number","Visitors");let n=[];for(let t=0;t<e.length;t++){let o=new Date;o.setDate(o.getDate()-(e.length-1-t));let a=o.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});n.push([a,e[t]])}a.addRows(n);var l={width:800,height:400,lineWidth:5,colors:[textColorDim],hAxis:{titleTextStyle:{color:textColor},textStyle:{color:textColorDim}},vAxis:{title:"Number of Visitors",titleTextStyle:{color:textColor},textStyle:{color:textColorDim}},backgroundColor:bgColorDimmer,legend:"none"};new google.visualization.LineChart(document.getElementById("visitorGraphModal")).draw(a,l),document.getElementById("totalVisitors").innerHTML=`Total number of visitors for ${o}: <span class='text-color'>${t}</span>`,document.getElementById("yearlyVisitors").innerHTML=`Number of visitors in the past 365 Days: <span class='text-color'>${e.reduce(((t,e)=>t+e),0)}</span>`}let page=location.href.split("/")[location.href.split("/").length-1].toLowerCase();page.endsWith(".html")&&(page=page.split(".")[0]),""===page&&(page="index");let supportedPages=["index","projects","publications","gallery","resume","contact","submitted"];function gtag(){dataLayer.push(arguments)}supportedPages.includes(page)?fetchAndUpdateCounter(page):document.getElementById("counter").display="none",window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-LGHB6S47PK");